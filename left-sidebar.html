<!DOCTYPE HTML>
<!--
	TXT by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head> 
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<title>Playlist</title>
	</head>
	<body class="is-preload">		
    		
		<!-- Header -->
		<header id="header">
			<div class="logo container">
				<div>
					<h1><a href="index.html" id="logo">TXT</a></h1>
					<p>A responsive site template by HTML5 UP</p>
				</div>
			</div>
		</header>

		<!-- Nav -->
		<nav id="nav">
			<ul>
				<li class="current"><a href="index.html">Home</a></li>
				<li><a href="left-sidebar.html">Form</a></li>
				<li><a href="right-sidebar.html">Contatti</a></li>
			</ul>
		</nav>

		<!-- Main -->
		<section id="main">
			<div class="container">
				<div class="row">
					<div class="col-3 col-12-medium">
						<div class="sidebar">
							<!-- Sidebar -->
							<!-- Recent Posts -->
							<section>
								<h2 class="major"><span>Recent Posts</span></h2>
								<ul class="divided">
									<li>
										<article class="box post-summary">
											<h3><a href="#">A Subheading</a></h3>
											<ul class="meta">
												<li class="icon fa-clock">6 hours ago</li>
												<li class="icon fa-comments"><a href="#">34</a></li>
											</ul>
										</article>
									</li>
									<li>
										<article class="box post-summary">
											<h3><a href="#">Another Subheading</a></h3>
											<ul class="meta">
												<li class="icon fa-clock">9 hours ago</li>
												<li class="icon fa-comments"><a href="#">27</a></li>
											</ul>
										</article>
									</li>
									<li>
										<article class="box post-summary">
											<h3><a href="#">And Another</a></h3>
											<ul class="meta">
												<li class="icon fa-clock">Yesterday</li>
												<li class="icon fa-comments"><a href="#">184</a></li>
											</ul>
										</article>
									</li>
								</ul>
								<a href="#" class="button alt">Archives</a>
							</section>

							<!-- Something -->
							<section>
								<h2 class="major"><span>Ipsum Dolore</span></h2>
								<p>
									Donec sagittis massa et leo semper scele risque metus faucibus. Morbi congue mattis mi.
									Phasellus sed nisl vitae risus tristique volutpat. Cras rutrum sed commodo luctus blandit.
								</p>
								<a href="#" class="button alt">Learn more</a>
							</section>

							<!-- Something -->
							<section>
								<h2 class="major"><span>Magna Feugiat</span></h2>
								<p>
									Rhoncus dui quis euismod. Maecenas lorem tellus, congue et condimentum ac, ullamcorper non sapien.
									Donec sagittis massa et leo semper scele risque metus faucibus. Morbi congue mattis mi.
									Phasellus sed nisl vitae risus tristique volutpat. Cras rutrum sed commodo luctus blandit.
								</p>
								<a href="#" class="button alt">Learn more</a>
							</section>
						</div>
					</div>
					<div class="col-9 col-12-medium imp-medium">
						<div class="content">
							<!-- Content -->
							<article class="box page-content">
								<header>
									<h2>PLAYLIST DI YOUTUBE</h2>
									<p>Semper amet scelerisque metus faucibus morbi congue mattis</p>
									<ul class="meta">
										<li class="icon fa-clock">5 days ago</li>
										<li class="icon fa-comments"><a href="#">1,024</a></li>
									</ul>
								</header>
								<section>
									<div id="video">
									            <!-- Qui verranno visualizzati i dettagli del video -->
									        </div>
									    </p>
									    <div id="page-wrapper"> 
									        <form id="channelForm">
									            <label for="channelName">Inserisci il nome del canale:</label>
									            <input type="text" id="channelName" placeholder="insert channel name" required>
									            <button onclick="searchChannelPlaylist()">Cerca Playlist</button>
									            <div id="playlistResults"></div>
									        </form>
									        <ul id="playlistList"></ul>
									        <canvas id="chartContainer" width="400" height="400"></canvas>
									    </div>
									</section>
									
									<script>
									    function searchChannelPlaylist() {
									        const channelName = document.getElementById("channelName").value;
									
									        // Effettua una ricerca del canale su YouTube
									        fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${channelName}&type=channel&key=AIzaSyAjvgjAILjhg4tL3e713tEm2AUr2k5d9Nc`)
									            .then((response) => response.json())
									            .then((data) => {
									                // Estrai l'ID del primo canale trovato
									                const channelId = data.items[0].id.channelId;
									
									                // Cerca la playlist del canale
									                fetch(`https://www.googleapis.com/youtube/v3/playlists?part=snippet%2CcontentDetails&channelId=${channelId}&maxResults=25&key=AIzaSyAjvgjAILjhg4tL3e713tEm2AUr2k5d9Nc`)
									                    .then((response) => response.json())
									                    .then((playlistData) => {
									                        // Visualizza le playlist trovate
									                        const playlistResults = document.getElementById("playlistResults");
									                        playlistResults.innerHTML = "";
									
									                        playlistData.items.forEach((playlist) => {
									                            playlistResults.innerHTML += `<p>${playlist.snippet.title}</p>`;
									                        });
									
									                        // Dopo aver ottenuto i dati della playlist, puoi creare il grafico
									                        createChart(playlistData.items);
									                    })
									                    .catch((error) => {
									                        console.error("Si è verificato un errore durante la ricerca della playlist:", error);
									                    });
									            })
									            .catch((error) => {
									                console.error("Si è verificato un errore durante la ricerca del canale:", error);
									            });
									    }
									
									    function createChart(playlistItems) {
									        // Estrai i dati desiderati dalla lista delle playlist
									        const playlistTitles = playlistItems.map((playlist) => playlist.snippet.title);
									        const playlistVideoCounts = playlistItems.map((playlist) => playlist.contentDetails.itemCount);
									
									        // Crea un elemento canvas nel tuo HTML per il grafico
									        const canvas = document.createElement("canvas");
									        canvas.id = "myChart";
									        document.getElementById("chartContainer").appendChild(canvas);
									
									        // Crea il tuo grafico Chart.js
									        const ctx = canvas.getContext("2d");
									        new Chart(ctx, {
									            type: "bar",
									            data: {
									                labels: playlistTitles,
									                datasets: [{
									                    label: "Numero di Video",
									                    data: playlistVideoCounts,
									                    backgroundColor: "rgba(75, 192, 192, 0.2)",
									                    borderColor: "rgba(75, 192, 192, 1)",
									                    borderWidth: 1,
									                }],
									            },
									            options: {
									                scales: {
									                    y: {
									                        beginAtZero: true,
									                    },
									                },
									            },
									        });
									    }
									</script>
							</section>
						</div>
					</div>
				</div>
			</div>
		</section>


								 
							<!-- Contact -->
									<section>
										<h2 class="major"><span>Get in touch</span></h2>
										<ul class="contact">
											<li><a class="icon brands fa-facebook-f" href="#"><span class="label">Facebook</span></a></li>
											<li><a class="icon brands fa-twitter" href="#"><span class="label">Twitter</span></a></li>
											<li><a class="icon brands fa-instagram" href="#"><span class="label">Instagram</span></a></li>
											<li><a class="icon brands fa-dribbble" href="#"><span class="label">Dribbble</span></a></li>
											<li><a class="icon brands fa-linkedin-in" href="#"><span class="label">LinkedIn</span></a></li>
										</ul>
									</section>

							</div>
						</div>

				<!-- Copyright -->
				<div id="copyright">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</div>
		</footer>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.dropotron.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script> 
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	</body>
</html>
