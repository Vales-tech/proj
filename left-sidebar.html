<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <title>Playlist</title>
</head>
<body class="is-preload">
    <!-- Header -->
    <header id="header">
        <div class="logo container">
            <div>
                <h1><a href="index.html" id="logo">TXT</a></h1>
                <p>A responsive site template by HTML5 UP</p>
            </div>
        </div>
    </header>

    <!-- Nav -->
    <nav id="nav">
        <ul>
            <li class="current"><a href="index.html">Home</a></li>
            <li><a href="left-sidebar.html">Form</a></li>
            <li><a href="right-sidebar.html">Contatti</a></li>
        </ul>
    </nav>

    <!-- Main -->
    <section id="main">
        <div class="container">
            <div class="row">
                <div class="col-3 col-12-medium">
                    <div class="sidebar">
                        <!-- Sidebar -->
                        <!-- Recent Posts -->
                        <section>
                            <h2 class="major"><span>Recent Posts</span></h2>
                            <ul class="divided">
                                <li>
                                    <article class="box post-summary">
                                        <h3><a href="#">A Subheading</a></h3>
                                        <ul class="meta">
                                            <li class="icon fa-clock">6 hours ago</li>
                                            <li class="icon fa-comments"><a href="#">34</a></li>
                                        </ul>
                                    </article>
                                </li>
                                <!-- Altri elementi recenti qui -->
                            </ul>
                            <a href="#" class="button alt">Archives</a>
                        </section>

                        <!-- Something -->
                        <!-- Altre sezioni della sidebar qui -->

                    </div>
                </div>
                <div class="col-9 col-12-medium imp-medium">
                    <div class="content">
                        <!-- Content -->
                        <article class="box page-content">
                            <header>
                                <h2>Video Popolari su YouTube</h2>
                                <p>cerca ciò che vuoi e visualizzane i video più popolari</p>
                            </header>
                            <section>
                                <div id="searchForm">
                                    <label for="searchTerm">Inserisci la tua ricerca:</label>
                                    <input type="text" id="searchTerm" placeholder="Inserisci il termine di ricerca" required>
                                    <button onclick="searchPopularVideos()">Cerca Video</button>
                                </div>
                                <ul id="videoList"></ul>
                            </section>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section>
        <h2 class="major"><span>Get in touch</span></h2>
        <ul class="contact">
            <li><a class="icon brands fa-facebook-f" href="#"><span class="label">Facebook</span></a></li>
            <li><a class="icon brands fa-twitter" href="#"><span class="label">Twitter</span></a></li>
            <li><a class="icon brands fa-instagram" href="#"><span class="label">Instagram</span></a></li>
            <li><a class="icon brands fa-dribbble" href="#"><span class="label">Dribbble</span></a></li>
            <li><a class="icon brands fa-linkedin-in" href="#"><span class="label">LinkedIn</span></a></li>
        </ul>
    </section>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script>
        function displayVideos(videos) {
            const videoList = document.getElementById("videoList");
            videoList.innerHTML = ""; // Pulisce la lista dei video prima di aggiungere nuovi elementi

            videos.forEach((video) => {
                const videoItem = document.createElement("li");
                const videoTitle = document.createElement("h3");
                const videoThumbnail = document.createElement("img");
                const videoViews = document.createElement("p");

                videoTitle.textContent = video.snippet.title;
                videoThumbnail.src = video.snippet.thumbnails.default.url;
                videoViews.textContent = `Visualizzazioni: ${video.statistics.viewCount}`;

                videoItem.appendChild(videoTitle);
                videoItem.appendChild(videoThumbnail);
                videoItem.appendChild(videoViews);

                videoList.appendChild(videoItem);
            });
        }

        function searchPopularVideos() {
            const searchTerm = document.getElementById("searchTerm").value;
            const apiKey = "AIzaSyAjvgjAILjhg4tL3e713tEm2AUr2k5d9Nc"; // Sostituisci con la tua chiave API YouTube

           fetch(`https://www.googleapis.com/youtube/v3/search?q=${searchTerm}&type=video&order=viewCount&key=AIzaSyAjvgjAILjhg4tL3e713tEm2AUr2k5d9Nc`)
    .then((response) => response.json())
    .then((data) => {
        // Controlla se la risposta contiene dati validi
        if (data.items && data.items.length > 0) {
            const videos = data.items; // Array di video restituiti

            // Esempio: crea una lista di video
            const videoList = document.getElementById("videoList");
            videoList.innerHTML = ""; // Pulisce la lista precedente, se presente

            videos.forEach((video) => {
                const videoTitle = video.snippet.title;
                const videoId = video.id.videoId;
                const videoLink = `https://www.youtube.com/watch?v=${videoId}`;

                // Aggiunge il video alla lista
                videoList.innerHTML += `<li><a href="${videoLink}" target="_blank">${videoTitle}</a></li>`;
            });
        } else {
            console.error("La risposta API non contiene dati validi.");
        }
    })
    .catch((error) => {
        console.error("Si è verificato un errore durante la ricerca dei video:", error);
    });

   </script>
</body>
</html>
